ShareInstall=function(win,doc,xhr){function ReadyObj(){this.arr=[],this.run=function(e){this.arr?this.arr[this.arr.length]=e:e()},this.isReady=function(){return null==this.arr},this.ready=function(){if(null!=this.arr)for(var e=0;e<this.arr.length;e++)this.arr[e]();this.arr=null}}function myAjax(e){var t=new xhr,n=e.data,a=e.url,r=e.method;n&&"string"!=typeof n&&(n=MyJSON.stringify(n)),"POST"!=r&&n&&(a=a+(a.indexOf("?")>-1?"&":"?")+n,n=null),t.onreadystatechange=function(){if(t.readyState==("number"==typeof xhr.DONE?xhr.DONE:4)){if(200==t.status){var n=t.response||t.responseText||{};e.success&&e.success("string"==typeof n?MyJSON.parse(n):n)}else e.error&&e.error(t,t.statusText);e.complete&&e.complete(t)}},t.open(r,a,!0),t.ontimeout=function(){e.error&&e.error(t,t.statusText)},t.timeout=e.timeout||0,t.setRequestHeader&&t.setRequestHeader("Content-Type","application/json;charset=utf-8"),t.withCredentials=(e.xhrFields||{}).withCredentials,t.send(n)}function httpAjax(e){e=e||{};var t=e.type||"GET";t=t.toUpperCase()||"GET";var n=e.url||"",a=e.async,r=e.data||null,i=e.success||function(){},o=e.fail||function(){},l=null;l=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var c=[];for(var d in r)c.push(d+"="+r[d]);var s=c.join("&");"POST"===t?(l.open(t,n,a),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.send(s)):(l.open(t,n+"?"+s,a),l.send(null)),l.onreadystatechange=function(){if(4==l.readyState){var e=l.status;e>=200&&e<300?i&&i(l.responseText):o&&o(e)}}}function getContext(){var e=doc.createElement("canvas");if(e&&"function"==typeof e.getContext)for(var t=["webgl","webgl2","experimental-webgl2","experimental-webgl"],n=0;n<t.length;n++){var a=t[n],r=e.getContext(a);if(r){var i={};i.context=a,i.version=r.getParameter(r.VERSION),i.vendor=r.getParameter(r.VENDOR),i.sl_version=r.getParameter(r.SHADING_LANGUAGE_VERSION),i.max_texture_size=r.getParameter(r.MAX_TEXTURE_SIZE);var o=r.getExtension("WEBGL_debug_renderer_info");return o&&(i.vendor=r.getParameter(o.UNMASKED_VENDOR_WEBGL),i.renderer=r.getParameter(o.UNMASKED_RENDERER_WEBGL)),i}}return{}}function MyShareInstall(e,t){function n(e,t){var n=!1,a=navigator.userAgent.toLowerCase();a.indexOf("qq")>0&&a.indexOf("micromessenger")<0&&a.indexOf("android")>-1&&(n=!0);var r,i;n?(r="hidden",i="qbrowserVisibilityChange"):void 0!==doc.hidden?(r="hidden",i="visibilitychange"):void 0!==doc.msHidden?(r="msHidden",i="msvisibilitychange"):void 0!==doc.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange");var o=function(e){return n&&e&&void 0!==e.hidden?e.hidden:doc[r]},l=setTimeout(function(){null==l||o()||(e(),l=null)},t);i&&doc.addEventListener(i,function(e){null!=l&&o(e)&&(clearTimeout(l),l=null)},!1)}function a(e,t,a,r){var i=navigator.userAgent.toLowerCase();i.indexOf("iphone")>-1||i.indexOf("ipad")>-1||i.indexOf("ipod")>-1?u.schemaUrl.indexOf("https://")>-1?k[e](t):(n(function(){var t="//api.shareinstall.com.cn/plists/page?app_key="+v;u.applied&&(t=u.applied),k[e](t)},r),k[e](t)):("function"==typeof a&&n(a,r),k[e](t))}function r(e){var t=doc.createElement("div");return t.innerHTML=e,t=t.children[0],t.onclick=function(){doc.body.removeChild(t)},t}function i(e){var t,n="",a=navigator.userAgent.toLowerCase();try{n=e.match(/\,([^\"]*)\"/)[1]||""}catch(e){}return t=MyJSON.parse(Base64.decode(n)),t.shareInstallCode={appkey:v,timestamp:(+new Date).toString().slice(0,10)},a.indexOf("android")>0?e='<a value="'+Base64.encode(MyJSON.stringify(t))+'">&nbsp;</a>':e.replace(n,Base64.encode(MyJSON.stringify(t)))}function o(e,t,n){console.log(e),e=i(e),console.log(e);if("function"!=typeof doc.execCommand)return!1;var a=doc.createElement("div");a.innerHTML=e;for(var r=[],o=0;o<a.children.length;o++)r[o]=a.children[o];for(var l,c,d=!1,s=t?t+((new Date).getTime()+1e3*(n||1))+"-":null,o=0;o<r.length;o++)try{if(l=r[o],doc.body.appendChild(l),"SELECT"===l.nodeName)l.focus();else if("INPUT"===l.nodeName||"TEXTAREA"===l.nodeName){s&&(l.value=Base64.encode(Base64.decode(l.value)+s));var f=l.hasAttribute("readonly");f||l.setAttribute("readonly",""),l.select(),l.setSelectionRange(0,l.value.length),f||l.removeAttribute("readonly")}else{l.hasAttribute("contenteditable")&&l.focus(),s&&l.setAttribute("class",s),c=win.getSelection();var u=doc.createRange();u.selectNode(l),c.removeAllRanges(),c.addRange(u)}d=doc.execCommand("copy"),doc.body.removeChild(l)}catch(e){doc.body.removeChild(l),d=!1}return c&&c.removeAllRanges(),d}function l(){var t=navigator.userAgent.toLowerCase();e.apkUrl&&"function"==typeof e.apkDownloadHandler?e.apkDownloadHandler(e.apkUrl):u.fallbackUrl&&h||t.indexOf("android")>-1?(t.indexOf("micromessenger")>0||t.indexOf("qq")>0)&&t.indexOf("android")>-1?(u.fallbackUrl&&t.indexOf("micromessenger")<0?k[u.schemaMethod](u.fallbackUrl):t.indexOf("micromessenger")>0&&(e.weChatdownload?MyShareInstall.getAPK():doc.body.appendChild(h)),t.indexOf("qq")>0&&t.indexOf("micromessenger")<0&&!u.fallbackUrl&&MyShareInstall.getAPK()):t.indexOf("android")>-1&&!u.fallbackUrl?MyShareInstall.getAPK():(u.fallbackMethod="hrf",k[u.fallbackMethod](u.fallbackUrl)):(t.indexOf("iphone")>-1||t.indexOf("ipad")>-1||t.indexOf("ipod")>-1)&&(t.indexOf("micromessenger")>0?doc.body.appendChild(h):(u.fallbackUrl.indexOf("https://itunes.apple.com")<0&&!u.applied&&(u.fallbackUrl="//api.shareinstall.com.cn/plists/page?app_key="+v),k.loc(u.fallbackUrl)))}function c(e,t,n){docReady(function(){w.run(function(){var r=navigator.userAgent.toLowerCase(),i=(r.indexOf("iphone")>-1||r.indexOf("android"),t?l:null),o="";if(e||"android"==u.platform&&"qq"!=u.brower&&"chrome25"!=u.brower&&"samsung"==u.brower&&(e=!0),u.schemaUrl&&e){(r.indexOf("iphone")>-1||r.indexOf("ipad")>-1||r.indexOf("ipod")>-1)&&u.schemaUrl.indexOf("https://")>-1&&(u.fallbackUrl.indexOf("https://itunes.apple.com")<0&&(u.applied||(u.fallbackUrl="//api.shareinstall.com.cn/plists/page?app_key="+v)),o="?url="+u.fallbackUrl,u.schemaUrl.indexOf(o)<0&&(u.schemaUrl=u.schemaUrl+o));var c=(n||{}).timeout||u.wt||2e3;(r.indexOf("iphone")>-1||r.indexOf("ipad")>-1||r.indexOf("ipod")>-1)&&r.indexOf("micromessenger")>0&&(doc.body.appendChild(h),u.schemaMethod="frm"),(r.indexOf("iphone")>-1||r.indexOf("ipad")>-1||r.indexOf("ipod")>-1)&&(i=null),a(u.schemaMethod,u.schemaUrl,i,c)}else i&&i()})})}function d(){var e=localStorage.getItem("visitUUID");""!=e&&void 0!=e&&null!=e||(e=MyShareInstall.generateUUID());var t=MyShareInstall.parseUrlParams().channel;t||(t=null);var n=MyShareInstall.judgeSystem(),a="?jsonpcallback=getVisit&uid="+e+"&appkey="+v+"&os="+n+"&channel="+t+"&url="+window.location.href+"&bid=downloadButton",r=document.createElement("script");r.type="text/javascript",r.src="//statlog.shareinstall.com.cn/shareinstall_log/wapclick"+a,document.body.appendChild(r)}function s(t,n){navigator.userAgent.toLowerCase();b&&(clearTimeout(b),b=null),t=t||{},t.v||(t.v=VERSION);var a=encode1(MyJSON.stringify(t)),i=MyJSON.parse(MyJSON.stringify(t));i.cus=n,window._SHAREINSTALLCODE=encode1(MyJSON.stringify(i));var o="";for(var l in t)o+=l+":"+t[l];httpAjax({url:"//check.shareinstall.com.cn/wwwroot",type:"POST",data:{ctype:1,appkey:v},async:!0,success:function(i){console.log("返回的数据");var o=JSON.parse(i);console.log(o),MyShareInstall.domainData=o,myAjax({url:MyShareInstall.domainData.Url1+"?code="+a,method:"POST",xhrFields:{withCredentials:!0},data:n,success:function(a){1==a.status?(u={},u.fallbackUrl="https://www.shareinstall.com/error.html",u.schemaUrl="https://www.shareinstall.com/error.html",u.fallbackMethod="frm",u.schemaMethod="loc"):u=f(a.data[0]||{}),u.applied&&(u.fallbackUrl=u.applied),a.shadow=e.shadow||a.shadow||"<div id='ShareInstallDom' style='font-size:30px;color:#fff;text-align:right;position:fixed;left:0;top:0;background:rgba(0,0,0,0.5);filter:alpha(opacity=50);width:100%;height:100%;z-index:10000;'><img src='//imgmini.eastday.com/shareinstall/admin/assets/1530617476_tip-icon.png' alt='' style='width:60%;margin-top:20px;'></div>",a.shadow&&(h=r(a.shadow)),w.ready(),u.ttl&&(b=setTimeout(function(){s(t,n)},1e3*u.ttl))}})},fail:function(){}})}function f(e){var t={sm:"schemaMethod",st:"schemaTimeout",fm:"fallbackMethod",au:"apkUrl",acl:"allowClickLog",p:"pb"};for(var n in e){var a=t[n];a&&(e[a]=e[n],delete e[n])}return e}e=e||{};var u,h,p,m,g,y,x=e.channelCode,v=e.appKey||"",S=e.onready,w=new ReadyObj,O=this;if(!x){var C=/[\?\&]channelCode=([^=&]+)/.exec(win.location.href);C&&(x=C[1])}"function"==typeof S&&w.run(function(){S.call(O)});try{p=win.screen.width||"",m=win.screen.height||"",y=win.devicePixelRatio===parseInt(win.devicePixelRatio)?parseFloat(win.devicePixelRatio).toFixed(1)||"":parseFloat(win.devicePixelRatio).toString()||"",g=getContext()}catch(e){}var b,k={frm:function(e){var t=doc.createElement("iframe");t.style.display="none",t.style.visibility="hidden",t.src=e,doc.body.appendChild(t)},loc:function(e){win.location=e},hrf:function(e){var t=doc.createElement("a");t.style.display="none",t.href=e,doc.body.appendChild(t),t.click()},inhrf:function(e){var t=doc.createElement("script");t.setAttribute("type","text/javascript"),t.innerHTML='(function(){var a = document.createElement("a");a.style.display = "none";a.href = "'+e.replace(/"/g,'\\"')+'";document.body.appendChild(a);a.click();})()',doc.body.appendChild(t)},open:function(e){win.open(e)}};this.wakeupOrInstall=function(t){MyShareInstall.logAjax(c,t,e),d(),u.pb&&o(u.pb,u.ypp,parseInt(u.yps||"0"))},this.schemeWakeup=function(e){c(!0,!1,e)},this.install=function(e){c(!1,!0,e),u.pb&&o(u.pb,u.ypp,parseInt(u.yps||"0"))},e.buttonId&&docReady(function(){for(var t=e.buttonId.split(" "),n=0;n<t.length;n++){var a=doc.getElementById(t[n]);a&&a.addEventListener("click",function(){O.wakeupOrInstall()})}}),init(function(n){function a(){var e=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return localStorage.setItem("visitUUID",t),t}var n=n||[],r=(n.length,navigator.userAgent.toLowerCase()),i=r.indexOf("iphone")>-1||r.indexOf("ipad")>-1||r.indexOf("ipod")>-1?"ios":r.indexOf("android")>-1?"android":"";if("ios"===i)var o=r.match(/os (.*?) like mac os/)[1].replace(/_/g,".");else if("android"===i)var o=r.match(/android\s([0-9\.]*)/)[1];else var o="";window.logData="sw="+(p||0)+"&sh="+(m||0)+"&sp="+y+"&gv="+(g.version||"")+"&gr="+(g.renderer||"")+"&li="+(n.length?n.join("-"):"")+"&os="+i+"&osver="+o+"&appkey="+v+"&v="+VERSION+"&cpp=jssdk&cp="+JSON.stringify(t),s({channelCode:x||"",sw:p.toString()||"0",sh:m.toString()||"0",sp:y,gv:g.version?g.version.replace(/\s/g,""):"",gr:g.renderer?g.renderer.replace(/\s/g,""):"",li:n.length?n.join("-"):"",c:1,apk:e.apkFileName||"",pw:e.preferWakeup?1:0,os:i,osver:o,appkey:v},t),function(){var e=localStorage.getItem("visitUUID");""!=e&&void 0!=e&&null!=e||(e=a());var t=MyShareInstall.parseUrlParams().channel;t||(t=null);var n=ShareInstall.judgeSystem(),r="?jsonpcallback=getVisit&uid="+e+"&appkey="+v+"&os="+n+"&channel="+t+"&url="+window.location.href,i=document.createElement("script");i.type="text/javascript",i.src="//statlog.shareinstall.com.cn/shareinstall_log/wapopen"+r,document.body.appendChild(i)}(),this.getVisit=function(e){e.status}})}var VERSION="1.0.9",b64=function(){function e(e){var t,n,a,i,o=-1,l=e.length,c=[0,0,0,0];for(t=[];++o<l;)n=e[o],a=e[++o],c[0]=n>>2,c[1]=(3&n)<<4|(a||0)>>4,o>=l?c[2]=c[3]=64:(i=e[++o],c[2]=(15&a)<<2|(i||0)>>6,c[3]=o>=l?64:63&i),t.push(r.charAt(c[0]),r.charAt(c[1]),r.charAt(c[2]),r.charAt(c[3]));return t.join("")}function t(e){for(var t,n,a,i,o,l,c,d=[],s=0;s<e.length;)i=r.indexOf(e.charAt(s++)),o=r.indexOf(e.charAt(s++)),l=r.indexOf(e.charAt(s++)),c=r.indexOf(e.charAt(s++)),t=i<<2|o>>4,n=(15&o)<<4|l>>2,a=(3&l)<<6|c,d.push(t),64!=l&&d.push(n),64!=c&&d.push(a);return d}function n(e){var t,n=-1,a=e.length,r=[];if(/^[\x00-\x7f]*$/.test(e))for(;++n<a;)r.push(e.charCodeAt(n));else for(;++n<a;)t=e.charCodeAt(n),128>t?r.push(t):2048>t?r.push(63&t|128):r.push(t>>12|224,t>>6&63|128,63&t|128);return r}function a(e){for(var t=0,n=0,a=0,r=[],i=0;i<e.length;)t=e[i],t<128?(r.push(String.fromCharCode(t)),i++):t>191&&t<224?(n=e[i+1],r.push(String.fromCharCode((31&t)<<6|63&n)),i+=2):(n=e[i+1],a=e[i+2],r.push(String.fromCharCode((15&t)<<12|(63&n)<<6|63&a)),i+=3);return r.join("")}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";return[function(t){if(!t)return"";for(var a=n(t),r=a.length,i=0;r>i;i++)a[i]=150^a[i];return e(a)},function(e){if(!e)return"";for(var n=t(e),r=0,i=n.length;i>r;r++)n[r]=150^n[r];return a(n)},function(t){return t?e(n(t)):""},function(e){return e?a(t(e)):""}]}(),Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,r,i,o,l,c="",d=0;for(e=Base64._utf8_encode(e);d<e.length;)t=e.charCodeAt(d++),n=e.charCodeAt(d++),a=e.charCodeAt(d++),r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|a>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(l);return c},decode:function(e){var t,n,a,r,i,o,l,c="",d=0;for(e=e.replace(/[^A-Za-z0-9+\/=]/g,"");d<e.length;)r=this._keyStr.indexOf(e.charAt(d++)),i=this._keyStr.indexOf(e.charAt(d++)),o=this._keyStr.indexOf(e.charAt(d++)),l=this._keyStr.indexOf(e.charAt(d++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|l,c+=String.fromCharCode(t),64!=o&&(c+=String.fromCharCode(n)),64!=l&&(c+=String.fromCharCode(a));return c=Base64._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){for(var t="",n=0,a=c1=c2=0;n<e.length;)a=e.charCodeAt(n),a<128?(t+=String.fromCharCode(a),n++):a>191&&a<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&a)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),n+=3);return t}},encode1=b64[0],decode1=b64[1],encode2=b64[2],decode2=b64[3],docReady=function(){function e(){if(!a){a=!0;for(var e=0;e<n.length;e++)n[e].fn.call(win,n[e].ctx);n=[]}}function t(){"complete"===doc.readyState&&e()}var n=[],a=!1,r=!1;return function(i,o){a?i(o):(n.push({fn:i,ctx:o}),"complete"===doc.readyState||!doc.attachEvent&&"interactive"===doc.readyState?e():r||(doc.addEventListener?(doc.addEventListener("DOMContentLoaded",e,!1),win.addEventListener("load",e,!1)):(doc.attachEvent("onreadystatechange",t),win.attachEvent("onload",e)),r=!0))}}(),init=function(){function e(){d.isReady()||(d.ready(),clearInterval(s),i&&i.close())}function t(){e()}function n(e){for(var t=e.split("."),n=0,a=0;a<t.length;a++)n=n<<8|255&parseInt(t[a]);return n}function a(t){for(var a,r,i,o,d=t.split("\r\n"),s=0;s<d.length;s++){if(a=d[s],r=a.split(" "),0==a.indexOf("a=candidate:")&&(i=r[7])&&"host"==i)o=r[4];else if(0==a.indexOf("a=rtcp:")&&(i=r[2])&&"IP4"==i)o=r[3];else if(0!=a.indexOf("c=")||!(i=r[1])||"IP4"!=i||!(o=r[2]))continue;o&&!l[o]&&/[0-9]{1,3}(\.[0-9]{1,3}){3}/.test(o)&&"0.0.0.0"!=o&&0!=o.indexOf("127.")&&3758096384!=(4026531840&n(o))&&(l[o]=1,c.push(o))}c.length&&e()}var r,i,o,l={},c=[],d=new ReadyObj,s=setInterval(function(){i&&i.localDescription&&i.localDescription.sdp&&o!=i.localDescription.sdp&&(o=i.localDescription.sdp,a(o))},10);try{r=win.RTCPeerConnection||win.mozRTCPeerConnection||win.webkitRTCPeerConnection,r?(i=new r({iceServers:[]},{optional:[{RtpDataChannels:!0}]}),i.onicecandidate=function(e){e.candidate&&e.candidate.candidate&&a("a="+e.candidate.candidate)},i.createDataChannel("shareinstall"),i.createOffer(function(e){try{i.setLocalDescription(e,function(){},t)}catch(e){t()}},t),setTimeout(e,2e3)):t()}catch(e){t()}return function(e){d.run(function(){e(c)})}}(),MyJSON=win.JSON||{parse:function(str){return eval("("+str+")")},stringify:function(){var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},a=function(e){return n[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},r=/[\\"\u0000-\u001F\u2028\u2029]/g;return function n(i){if(null==i)return"null";if("number"==typeof i)return isFinite(i)?i.toString():"null";if("boolean"==typeof i)return i.toString();if("object"==typeof i){if("function"==typeof i.toJSON)return n(i.toJSON());if(t(i)){for(var o="[",l=0;l<i.length;l++)o+=(l?", ":"")+n(i[l]);return o+"]"}if("[object Object]"===e.call(i)){var c=[];for(var d in i)i.hasOwnProperty(d)&&c.push(n(d)+": "+n(i[d]));return"{"+c.sort().join(", ")+"}"}}return'"'+i.toString().replace(r,a)+'"'}}()};return MyShareInstall.channelRedirect=function(e,t){new MyShareInstall({appKey:e,channelCode:t,_channelRedirect:!0}).wakeupOrInstall()},MyShareInstall.parseUrlParams=function(){for(var e=win.location.href,t=e.indexOf("?")+1,n=(e||"?").substring(t).replace(/\+/g,"%20"),a=n.split("&"),r={},i=0;i<a.length;i++){var o=a[i].split("="),l=decodeURIComponent(o[0]||""),c=decodeURIComponent(o[1]||"");l&&c&&(void 0===r[l]?r[l]=c:"object"==typeof r[l]?r[l].push(c):r[l]=[r[l],c])}return r},MyShareInstall.setUid=function(){return+new Date+Math.random().toString(10).substring(2,6)},MyShareInstall.setCookie=function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=e+"="+encodeURI(t)+";expires="+n.toUTCString()+";path=/"},MyShareInstall.getCookie=function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?decodeURI(t[2]):null},MyShareInstall.generateUUID=function(){var e=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return localStorage.setItem("visitUUID",t),t},MyShareInstall.judgeSystem=function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||e.indexOf("ipod")>-1?"ios":"android"},MyShareInstall.url2json=function(e){for(var t,n=e.substring(e.indexOf("?")+1,e.length).split("&"),a={},r=0;t=n[r];r++){var i=t.substring(0,t.indexOf("=")).toLowerCase(),o=t.substring(t.indexOf("=")+1,t.length);o.indexOf("#")>-1&&(o=o.split("#")[0]),a[i]=o}return a},MyShareInstall.logAjax=function(e,t,n){var a="";MyShareInstall.getCookie("ShareInstallUid")?a=MyShareInstall.getCookie("ShareInstallUid"):(a=MyShareInstall.setUid(),MyShareInstall.setCookie("ShareInstallUid",a));var r="//statlog.shareinstall.com.cn/shareinstall_log/si?ordernumber="+a+"&"+window.logData;httpAjax({url:"//statlog.shareinstall.com.cn/shareinstall_log/si",type:"POST",data:MyShareInstall.url2json(r),async:!1,success:function(){},fail:function(){}}),setTimeout(function(){var a=n.preferWakeup,r=n.preferInstall;null!==a&&void 0!==a&&""!==a||(a=!0),null!==r&&void 0!==r&&""!==r||(r=!0),e(a,r,t)})},MyShareInstall.getAPK=function(){var e="http://mm.eastday.com/wechatjump/sxg.jump?location=",t=document.createElement("script"),n=document.createElement("script"),a=MyShareInstall.domainData.Url2+"?jsonpcallback=getShareApk&code="+window._SHAREINSTALLCODE;t.type="text/javascript",t.src=a,n.type="text/javascript",n.innerHTML='function getShareApk(info) {var iframe = document.createElement("iframe");iframe.style.display = "none";iframe.style.visibility = "hidden"; var downloadUrl = info.data[0]["fallbackUrl"]; if("'+function(e){var t=navigator.userAgent.toLowerCase();return!!(e&&(t.indexOf("android")>-1||t.indexOf("linux")>-1)&&t.indexOf("micromessenger")>0)}(e)+'" == "'+!0+'"){downloadUrl = "'+e+'"+info.data[0]["fallbackUrl"]; };iframe.src = downloadUrl; document.body.appendChild(iframe);}',document.body.appendChild(n),document.body.appendChild(t)},MyShareInstall.domainPath="我是初始化数据...",MyShareInstall.docReady=docReady,MyShareInstall}(window,document,XMLHttpRequest);